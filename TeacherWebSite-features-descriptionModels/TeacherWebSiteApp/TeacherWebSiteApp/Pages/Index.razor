@page "/"
@inject IDbContextFactory<TeacherContext> DbFactory
@inject NavigationManager NavManager
@layout MainLayout
@namespace TeacherWebSiteApp.Pages

@code{
    private MainPage data = new MainPage();
    protected override Task OnInitializedAsync()
    {
        using var context = DbFactory.CreateDbContext();

        data = await context.MainPages.FirstOrDefaultAsync(d => d.IsActive.Value);
        if(data == null)
        {
            NavManager.NavigateTo("/newsfeed");
        }
    }

}

